  <!--**********************************
            Footer start
        ***********************************-->
        <div class="footer">
            <div class="copyright">
               <!--  <p>Copyright &copy; Designed & Developed by <a href="cqlsys.com">Cqlsys</a> 2019</p> -->
            </div>
        </div>
        <!--**********************************
            Footer end
        ***********************************-->
    </div>
    <!--**********************************
        Main wrapper end
    ***********************************-->

    <!--**********************************
        Scripts
    ***********************************-->
  





    <script src="../heart/plugins/common/common.min.js"></script>
    <script src="../heart/js/custom.min.js"></script>
    <script src="../heart/js/settings.js"></script>
    <script src="../heart/js/gleek.js"></script>
    <script src="../heart/js/styleSwitcher.js"></script>

    <!-- Chartjs -->
    <script src="../heart/plugins/chart.js/Chart.bundle.min.js"></script>
    <!-- Circle progress -->
    <script src="../heart/plugins/circle-progress/circle-progress.min.js"></script>
    <!-- Datamap -->
    <script src="../heart/plugins/d3v3/index.js"></script>
    <script src="../heart/plugins/topojson/topojson.min.js"></script>
    <script src="../heart/plugins/datamaps/datamaps.world.min.js"></script>
    <!-- Morrisjs -->
    <script src="../heart/plugins/raphael/raphael.min.js"></script>
    <script src="../heart/plugins/morris/morris.min.js"></script>
    <!-- Pignose Calender -->
    <script src="../heart/plugins/moment/moment.min.js"></script>
    <script src="../heart/plugins/pg-calendar/js/pignose.calendar.min.js"></script>
    <!-- ChartistJS -->
    <script src="../heart/plugins/chartist/js/chartist.min.js"></script>
    <script src="../heart/plugins/chartist-plugin-tooltips/js/chartist-plugin-tooltip.min.js"></script>



    <script src="../heart/js/dashboard/dashboard-1.js"></script>


     <script src="../heart/plugins/tables/js/jquery.dataTables.min.js"></script>
    <script src="../heart/plugins/tables/js/datatable/dataTables.bootstrap4.min.js"></script>
    <script src="../heart/plugins/tables/js/datatable-init/datatable-basic.min.js"></script>

     <script src="../heart/plugins/validation/jquery.validate.min.js"></script>
    <script src="../heart/plugins/validation/jquery.validate-init.js"></script>
    <script src= "https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>
    <script src="../heart/plugins/summernote/dist/summernote.min.js"></script>
    <script src="../heart/plugins/summernote/dist/summernote-init.js"></script>

    <!-- chart -->
    <script src="../heart/plugins/flot/js/jquery.flot.pie.js"></script>
    <script src="../heart/plugins/flot/js/jquery.flot.min.js"></script>
    <script src="../heart/plugins/flot/js/jquery.flot.resize.js"></script>
    <script src="../heart/plugins/flot/js/jquery.flot.spline.js"></script>
    <script src="../heart/plugins/flot/js/jquery.flot.init.js"></script>


   

    <script>
function goBack() {
  window.history.back();
}
</script>

 <script type="text/javascript">
      var placeSearch, autocomplete;
      var componentForm = {
        administrative_area_level_1: 'long_name',
        country: 'long_name',
        
      };

      function initAutocomplete() {

        //alert('hii');
    
        autocomplete = new google.maps.places.Autocomplete(
          /** @type {!HTMLInputElement} */(document.getElementById('autocomplete')),
          {types: ['geocode']});
        autocomplete.addListener('place_changed', fillInAddress);
      }

      function fillInAddress() {
        // Get the place details from the autocomplete object.
        var place = autocomplete.getPlace();
         console.log(place);
        $("#pac-lat").val(place.geometry.location.lat());
        $("#pac-lang").val(place.geometry.location.lng());

    
        for (var component in componentForm) {
          document.getElementById(component).value = '';
          document.getElementById(component).disabled = false;
        }

        // Get each component of the address from the place details
        // and fill the corresponding field on the form.
        for (var i = 0; i < place.address_components.length; i++) {
          var addressType = place.address_components[i].types[0];
          if (componentForm[addressType]) {
            var val = place.address_components[i][componentForm[addressType]];
            document.getElementById(addressType).value = val;
          }
        }
        $("#pac-lat").val(place.geometry.location.lat());
        $("#pac-lang").val(place.geometry.location.lng());
      }
      function geolocate() {
        if (navigator.geolocation) {
          navigator.geolocation.getCurrentPosition(function(position) {
            var geolocation = {
              lat: position.coords.latitude,
              lng: position.coords.longitude
            };
            var circle = new google.maps.Circle({
              center: geolocation,
              radius: position.coords.accuracy
            });
            autocomplete.setBounds(circle.getBounds());
          });
        }
      }

function previewImage(event)
  {
    var reader = new FileReader();
    reader.onload = function()
    {
      var output = document.getElementById('image_view');
      output.src = reader.result;
    }
    reader.readAsDataURL(event.target.files[0]);
  }

  function previewImageResume(event)
  {
    var reader = new FileReader();
    reader.onload = function()
    {
      var output = document.getElementById('image_view_resume');
      output.src = reader.result;
    }
    reader.readAsDataURL(event.target.files[0]);
  }

  function previewImageInsurance(event)
  {
    var reader = new FileReader();
    reader.onload = function()
    {
      var output = document.getElementById('image_view_Insurance');
      output.src = reader.result;
    }
    reader.readAsDataURL(event.target.files[0]);
  }

   function previewImageLicence(event)
  {
    var reader = new FileReader();
    reader.onload = function()
    {
      var output = document.getElementById('image_view_Licence');
      output.src = reader.result;
    }
    reader.readAsDataURL(event.target.files[0]);
  }

   setTimeout(() => {
        $("#flash_msg_dashboard").fadeOut('slow');
       },3000);



   //  =================   update status ==================================
   
							
								
						

$(document).on('click','.update_status_user',function(){
_this = $(this);
var id=$(this).attr('rel');
//alert(id);
$.ajax({
 type:"post",
 url:"/admin/user_update_status",
 data:{id:id},
 success:function(data){
 // console.log(data); return false;
  if (data == 1) {
          _this.removeClass('label gradient-2 btn-rounded');
          _this.addClass('label gradient-1 btn-rounded');
          _this.text('Active');
                }
        if (data == 0) {
            _this.removeClass('label gradient-1 btn-rounded');
            _this.addClass('label gradient-2 btn-rounded');
            _this.text('Inactive');
        }

 }

})
});


//  ============  update category status ===============

$(document).on('click','.update_status_category',function(){
_this = $(this);
var id=$(this).attr('rel');
//alert(id);
$.ajax({
 type:"post",
 url:"/admin/category_update_status",
 data:{id:id},
 success:function(data){
  //console.log(data); return false;
  if (data == 1) {
   // alert("innnnnnnn")
          _this.removeClass('label gradient-2 btn-rounded');
          _this.addClass('label gradient-1 btn-rounded');
          _this.text('Active');
                }
        if (data == 0) {
            _this.removeClass('label gradient-1 btn-rounded');
            _this.addClass('label gradient-2 btn-rounded');
            _this.text('Inactive');
        }
 }
})
});

// ===================   updated status provider ========================

$(document).on('click','.update_status_provider',function(){
_this = $(this);
var id=$(this).attr('rel');
//alert(id);
$.ajax({
 type:"post",
 url:"/admin/provider_update_status",
 data:{id:id},
 success:function(data){
 // console.log(data); return false;
  if (data == 1) {
          _this.removeClass('label gradient-2 btn-rounded');
          _this.addClass('label gradient-1 btn-rounded');
          _this.text('Active');
                }
        if (data == 0) {
            _this.removeClass('label gradient-1 btn-rounded');
            _this.addClass('label gradient-2 btn-rounded');
            _this.text('Inactive');
        }

 }

})
});



    // ========================  user delete ==============================


     $(document).on('click','.user_delete',function(){
  var id=$(this).attr('rel');
  
  swal({
        title: "Are you sure?",
        text: "You want to delete this user !",
        icon: "warning",
        buttons: true,
        dangerMode: true,
    }).then((willDelete) => {
        if(willDelete) {
    $.ajax({
       type:"delete",
          url:"/admin/delete_user",
          data:{id:id},
         success:function(data){ 
          if(data==1){
            { 
             swal("Done!", "It was successfully deleted!", "success");
               setTimeout(function () { location.reload(1); }, 2000);
            }
            
          }
} 
    });
  }else
    {
        swal("Cancelled","The user is safe !","error");
    }
  
});

});


     //  ======================== delete category =======================


$(document).on('click','.category_delete',function(){
  var id=$(this).attr('rel');
  
  swal({
        title: "Are you sure?",
        text: "You want to delete this category !",
        icon: "warning",
        buttons: true,
        dangerMode: true,
    }).then((willDelete) => {
        if(willDelete) {
    $.ajax({
       type:"delete",
          url:"/admin/delete_category",
          data:{id:id},
         success:function(data){ 
          if(data==1){
            { 
             swal("Done!", "It was successfully deleted!", "success");
               setTimeout(function () { location.reload(1); }, 2000);
            }
            
          }
} 
    });
  }else
    {
        swal("Cancelled","The category is safe !","error");
    }
  
});

});
     //  ======================== delete subcategory =======================


$(document).on('click','.subcategory_delete',function(){
  var id=$(this).attr('rel');
  
  swal({
        title: "Are you sure?",
        text: "You want to delete this subCategory !",
        icon: "warning",
        buttons: true,
        dangerMode: true,
    }).then((willDelete) => {
        if(willDelete) {
    $.ajax({
       type:"delete",
          url:"/admin/delete_subcategory",
          data:{id:id},
         success:function(data){ 
          if(data==1){
            { 
             swal("Done!", "It was successfully deleted!", "success");
               setTimeout(function () { location.reload(1); }, 2000);
            }
            
          }
} 
    });
  }else
    {
        swal("Cancelled","The subCategory is safe !","error");
    }
  
});

});


//  =====================   delete provider ========================


$(document).on('click','.provider_delete',function(){
  var id=$(this).attr('rel');
  
  swal({
        title: "Are you sure?",
        text: "You want to delete this Provider !",
        icon: "warning",
        buttons: true,
        dangerMode: true,
    }).then((willDelete) => {
        if(willDelete) {
    $.ajax({
       type:"delete",
          url:"/admin/delete_provider",
          data:{id:id},
         success:function(data){ 
          if(data==1){
            { 
             swal("Done!", "It was successfully deleted!", "success");
               setTimeout(function () { location.reload(1); }, 2000);
            }
            
          }
} 
    });
  }else
    {
        swal("Cancelled","The Provider is safe !","error");
    }
  
});

});




//  ==================  Provider request delete  =============

$(document).on('click','.provider_request_delete',function(){
  var id=$(this).attr('rel');
  
  swal({
        title: "Are you sure?",
        text: "You want to Reject this Request !",
        icon: "warning",
        buttons: true,
        dangerMode: true,
    }).then((willDelete) => {
        if(willDelete) {
    $.ajax({
       type:"delete",
          url:"/admin/delete_request",
          data:{id:id},
         success:function(data){ 
          if(data==1){
            { 
             swal("Done!", "It was successfully deleted!", "success");
               setTimeout(function () { location.reload(1); }, 2000);
            }
            
          }
} 
    });
  }else
    {
        swal("Cancelled","The Request is safe !","error");
    }
  
});

});




// =============   accept provider request ===============

 $(document).on('click','.provider_request_accept',function(){
  var id=$(this).attr('rel');
  
  swal({
        title: "Are you sure?",
        text: "You want to Accept this Provider Request !",
        icon: "warning",
        buttons: true,
        dangerMode: true,
    }).then((willDelete) => {
        if(willDelete) {
    $.ajax({
       type:"post",
          url:"/admin/provide-approve",
          data:{id:id},
         success:function(data){ 
          if(data==1){
            { 
             swal("Done!", "It was successfully Accept!", "success");
               setTimeout(function () { location.reload(1); }, 2000);
            }
            
          }
} 
    });
  }else
    {
        swal("Cancelled","The Request is safe !","error");
    }
  
});

});

//  ====================  order delete ==================================


$(document).on('click','.order_delete',function(){
  var id=$(this).attr('rel');
  
  swal({
        title: "Are you sure?",
        text: "You want to delete this Order !",
        icon: "warning",
        buttons: true,
        dangerMode: true,
    }).then((willDelete) => {
        if(willDelete) {
    $.ajax({
       type:"delete",
          url:"/admin/delete_order",
          data:{id:id},
         success:function(data){ 
          if(data==1){
            { 
             swal("Done!", "It was successfully deleted!", "success");
               setTimeout(function () { location.reload(1); }, 2000);
            }
            
          }
} 
    });
  }else
    {
        swal("Cancelled","The Order is safe !","error");
    }
  
});

});


// ===========================  invoice delete ================================

$(document).on('click','.invoice_delete',function(){
  var id=$(this).attr('rel');
  
  swal({
        title: "Are you sure?",
        text: "You want to delete this Invoice !",
        icon: "warning",
        buttons: true,
        dangerMode: true,
    }).then((willDelete) => {
        if(willDelete) {
    $.ajax({
       type:"delete",
          url:"/admin/delete_invoice",
          data:{id:id},
         success:function(data){ 
          if(data==1){
            { 
             swal("Done!", "It was successfully deleted!", "success");
               setTimeout(function () { location.reload(1); }, 2000);
            }
            
          }
} 
    });
  }else
    {
        swal("Cancelled","The Order is safe !","error");
    }
  
});

});

/******************************  FAQs   *****************************/ 

$(document).on('click','.faq_delete',function(){
  var id=$(this).attr('rel');
  swal({
        title: "Are you sure?",
        text: "You want to delete this Faq !",
        icon: "warning",
        buttons: true,
        dangerMode: true,
    }).then((willDelete) => {
        if(willDelete) {
    $.ajax({
       type:"delete",
          url:"/admin/delete_faq",
          data:{id:id},
         success:function(data){ 
          if(data==1){
            { 
             swal("Done!", "It was successfully deleted!", "success");
               setTimeout(function () { location.reload(1); }, 2000);
            }
            
          }
} 
    });
  }else
    {
        swal("Cancelled","The faq is safe !","error");
    }
  
});

});

///////////////////////// tip delete /////////////

$(document).on('click','.tip_delete',function(){
  var id=$(this).attr('rel');
  
  swal({
        title: "Are you sure?",
        text: "You want to delete this Tips !",
        icon: "warning",
        buttons: true,
        dangerMode: true,
    }).then((willDelete) => {
        if(willDelete) {
    $.ajax({
       type:"delete",
          url:"/admin/delete_tip",
          data:{id:id},
         success:function(data){ 
          if(data==1){
            { 
             swal("Done!", "It was successfully deleted!", "success");
               setTimeout(function () { location.reload(1); }, 2000);
            }
            
          }
} 
    });
  }else
    {
        swal("Cancelled","The tip is safe !","error");
    }
  
});

});



//  ==========================     pay amount ==============================

$(document).on('click','.pay_money',function(){
  var id=$(this).attr('rel');
  
  swal({
        title: "Are you sure?",
        text: "You want to pay this person !",
        icon: "warning",
        buttons: true,
        dangerMode: true,
    }).then((willDelete) => {
        if(willDelete) {
    $.ajax({
       type:"post",
          url:"/admin/pay_amount",
          data:{id:id},
         success:function(data){ 
          if(data==1){
            { 
             swal("Done!", "It was successfully pay!", "success");
               setTimeout(function () { location.reload(1); }, 2000);
            }
            
          }
} 
    });
  }else
    {
        swal("Cancelled","The request is safe !","error");
    }
  
});

});





 //  -----------------   get count -----------------------------------

 setInterval(count, 2000);

 function count(){
  $.ajax({
       type:"get",
          url:"/admin/request-count",
         success:function(data){ 
          //console.log(data);
          var html='';
          $('#bagcount').html(data.count);
          if(data._data.length > 0){
            $.each(data._data,function(k,v){
              html+='<li><a href="/admin/provider-request"><span class="mr-3 avatar-icon bg-success-lighten-2"><i class="icon-present"></i></span><div class="notification-content"><h6 class="notification-heading">Approval Request Provider</h6><span class="notification-text">'+v.name+' Create New Account</span></div></a></li>';

            });
          }else{
            html+='';
          }

          $('#noti').html(html);
         }
       });


 }

// ------------------------ clear count  -----------------------------------

 $(document).on('click','.clear_bag',function(){
  //alert('hii');
    $.ajax({
      method:'post',
      url:'/admin/clear-badge',
      success:function(data){
        $('#bagcount').html(data);
      }
    });
 });

 $(document).on('click','#more',function(){
    $.ajax({
      method:'get',
      url:'/admin/get-category',
      success:function(data){
       console.log(data);
       var html ='';
        html+='<div class="rem"><div class="form-group row "><label class="col-lg-2 col-form-label" for="val-providername">Services <span class="text-danger">*</span></label><div class="col-lg-6"><select class="form-control" name="category_ids[]"><option value="">Please Select Services</option>';
       $.each(data,function(k,v){
        html+='<option value="'+v.id+'">'+v.name+'</option>';
       });
        html+='</select></div><a href="#" class="ti-close dlt"></a></div>';
        html+=' <div class="form-group row"><label class="col-lg-2 col-form-label" for="val-email">Price <span class="text-danger">*</span></label><div class="col-lg-6"><input type="number" class="form-control" id="val-email" name="prices[]" placeholder="Price" required></div></div></div>';


       // console.log(html);
        $('.multicategory').append(html);
      }
    });

 });

 $(document).on('click','.dlt',function(){
  $(this).parents('.rem').remove();
 });


    </script>
  


    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDtYMExtdWonZI-S9IIW9nyHUd-mZqKL4g&libraries=places&callback=initAutocomplete" async defer></script>


<!--Map 2 start-->
<script>
$(document).ready(function(){
  var chartData={};
  if(window.location.pathname=='/admin/dashboard'){
    $.get('/get_dashboard_count',function(data){
      
      chartData=data;
      renderChart(data);
    });
   
  }

});

</script>

<script>
function renderChart(ChartData){
console.log(ChartData,"==========ChartData");
var date=new Date();  
var firstDay = new Date(date.getFullYear(), date.getMonth(), 1).getDate();  
var lastDay = new Date(date.getFullYear(), date.getMonth() + 1, 0).getDate();
var monthDays=[];

var Allmonth=[]
var currentMonth=new Date().getMonth();
var month = new Array();
month[0] = "January";
month[1] = "February";
month[2] = "March";
month[3] = "April";
month[4] = "May";
month[5] = "June";
month[6] = "July";
month[7] = "August";
month[8] = "September";
month[9] = "October";
month[10] = "November";
month[11] = "December";
currentMonth=month[currentMonth];
for(i =firstDay; i<=lastDay; i++){
thisMonth=i +"\n"+currentMonth;
monthDays.push(thisMonth);
}

  var config = {
    type: 'line',
    data: {
      labels: ['January','February','March','April','May','June','July','August','September','October','November','December'],
      datasets: [{
        label: 'Provider',
        backgroundColor:'#ff763b',
        borderColor: '#ff763b',
        data: ChartData.userData,
        fill: false,
      }, {
        label: 'Users',
        fill: false,
        backgroundColor:'#4AC1EE',
        borderColor: '#4AC1EE',
        data: ChartData.machineData,
      }]
    },
    options: {
      responsive: true,
      title: {
        display: true,
        text: 'Current Year Analysis Details'
      },
      scales: {
      
      }
    }
  };

  //window.onload = function() {
    var ctx = document.getElementById('canvas').getContext('2d');
    window.myLine = new Chart(ctx, config);
 // };
}
</script>
<!--Map 2 end-->
</body>

</html>
